import { courses } from '../../../server/controllers/courses.js';

describe('Course Controller', () => {
  // it('should create new courses', (done) => {
  //   done();
  // });

  describe('Retrieving courses', () => {
    it('should retrieve courses for a student', (done) => {
      new Promise((resolve) => (
        resolve(courses.findAllByStudent(1))
      ))
      .then((result) => {
        expect(result.length).toBeGreaterThan(0);
        expect(result[0].name).toBeDefined();
        expect(result[0].description).toBeDefined();
        expect(result[0].department).toBeDefined();
      })
      .catch((err) => {
        throw new Error(err);
      });
      done();
    });

    it('should retrieve courses for a teacher', (done) => {
      new Promise((resolve) => (
        resolve(courses.findAllByTeacher(1))
      ))
      .then((result) => {
        expect(result.length).toBeGreaterThan(0);
        expect(result[0].name).toBeDefined();
        expect(result[0].description).toBeDefined();
        expect(result[0].department).toBeDefined();
      })
      .catch((err) => {
        throw new Error(err);
      });
      done();
    });
  });

  // it('should update existing courses', (done) => {
  //   done();
  // });
  //
  // it('should remove courses from the database', (done) => {
  //   done();
  // });
});
